{"ast":null,"code":"import _objectSpread from\"/Users/a1/Downloads/Mainnet/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/a1/Downloads/Mainnet/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/a1/Downloads/Mainnet/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/a1/Downloads/Mainnet/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/a1/Downloads/Mainnet/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20;import{useEffect,useState}from\"react\";import styled from\"styled-components\";import confetti from\"canvas-confetti\";import*as anchor from\"@project-serum/anchor\";import{LAMPORTS_PER_SOL,PublicKey}from\"@solana/web3.js\";import{useAnchorWallet}from\"@solana/wallet-adapter-react\";import{WalletMultiButton}from\"@solana/wallet-adapter-react-ui\";import{GatewayProvider}from'@civic/solana-gateway-react';import Countdown from\"react-countdown\";import{Snackbar,Paper,LinearProgress,Chip}from\"@material-ui/core\";import Alert from\"@material-ui/lab/Alert\";import{toDate,getAtaForMint}from'./utils';import{MintButton}from'./MintButton';import{awaitTransactionSignatureConfirmation,getCandyMachineState,mintOneToken,CANDY_MACHINE_PROGRAM}from\"./candy-machine\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cluster=process.env.REACT_APP_SOLANA_NETWORK.toString();var decimals=process.env.REACT_APP_SPL_TOKEN_TO_MINT_DECIMALS?+process.env.REACT_APP_SPL_TOKEN_TO_MINT_DECIMALS.toString():9;var splTokenName=process.env.REACT_APP_SPL_TOKEN_TO_MINT_NAME?process.env.REACT_APP_SPL_TOKEN_TO_MINT_NAME.toString():\"TOKEN\";var WalletContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n\"])));var WalletAmount=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  color: black;\\n  width: auto;\\n  padding: 5px 5px 5px 16px;\\n  min-width: 48px;\\n  min-height: auto;\\n  border-radius: 22px;\\n  background-color: var(--main-text-color);\\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\\n  box-sizing: border-box;\\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\\n  font-weight: 500;\\n  line-height: 1.75;\\n  text-transform: uppercase;\\n  border: 0;\\n  margin: 0;\\n  display: inline-flex;\\n  outline: 0;\\n  position: relative;\\n  align-items: center;\\n  user-select: none;\\n  vertical-align: middle;\\n  justify-content: flex-start;\\n  gap: 10px;\\n\"])));var Wallet=styled.ul(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  flex: 0 0 auto;\\n  margin: 0;\\n  padding: 0;\\n\"])));var ConnectButton=styled(WalletMultiButton)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  border-radius: 18px !important;\\n  padding: 6px 16px;\\n  background-color: #4E44CE;\\n  margin: 0 auto;\\n\"])));var NFT=styled(Paper)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  min-width: 500px;\\n  padding: 5px 20px 20px 20px;\\n  flex: 1 1 auto;\\n  background-color: var(--card-background-color) !important;\\n  box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22) !important;\\n\"])));var Des=styled(NFT)(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  text-align: left;\\n  padding-top: 0px;\\n\"])));var Card=styled(Paper)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  background-color: var(card-background-lighter-color) !important;\\n  margin: 5px;\\n  min-width: 40px;\\n  padding: 24px;\\n  h1{\\n    margin:0px;\\n  }\\n\"])));var MintButtonContainer=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  button.MuiButton-contained:not(.MuiButton-containedPrimary).Mui-disabled {\\n    color: #464646;\\n  }\\n\\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):hover,\\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):focus {\\n    -webkit-animation: pulse 1s;\\n    animation: pulse 1s;\\n    box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\\n  }\\n\\n  @-webkit-keyframes pulse {\\n    0% {\\n      box-shadow: 0 0 0 0 #ef8f6e;\\n    }\\n  }\\n\\n  @keyframes pulse {\\n    0% {\\n      box-shadow: 0 0 0 0 #ef8f6e;\\n    }\\n  }\\n\"])));var Logo=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  flex: 0 0 auto;\\n\\n  img {\\n    height: 60px;\\n  }\\n\"])));var Menu=styled.ul(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  list-style: none;\\n  display: inline-flex;\\n  flex: 1 0 auto;\\n\\n  li {\\n    margin: 0 12px;\\n\\n    a {\\n      color: var(--main-text-color);\\n      list-style-image: none;\\n      list-style-position: outside;\\n      list-style-type: none;\\n      outline: none;\\n      text-decoration: none;\\n      text-size-adjust: 100%;\\n      touch-action: manipulation;\\n      transition: color 0.3s;\\n      padding-bottom: 15px;\\n\\n      img {\\n        max-height: 26px;\\n      }\\n    }\\n\\n    a:hover, a:active {\\n      color: rgb(131, 146, 161);\\n      border-bottom: 4px solid var(--title-text-color);\\n    }\\n\\n  }\\n\"])));var SolExplorerLink=styled.a(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  color: var(--title-text-color);\\n  border-bottom: 1px solid var(--title-text-color);\\n  font-weight: bold;\\n  list-style-image: none;\\n  list-style-position: outside;\\n  list-style-type: none;\\n  outline: none;\\n  text-decoration: none;\\n  text-size-adjust: 100%;\\n\\n  :hover {\\n    border-bottom: 2px solid var(--title-text-color);\\n  }\\n\"])));var MainContainer=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n  margin-right: 4%;\\n  margin-left: 4%;\\n  text-align: center;\\n  justify-content: center;\\n\"])));var MintContainer=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1 1 auto;\\n  flex-wrap: wrap;\\n  gap: 20px;\\n\"])));var DesContainer=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 1 auto;\\n  gap: 20px;\\n\"])));var Price=styled(Chip)(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  margin: 5px;\\n  font-weight: bold;\\n  font-size: 1.2em !important;\\n  font-family: 'Patrick Hand', cursive !important;\\n\"])));var Image=styled.img(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  height: 400px;\\n  width: auto;\\n  border-radius: 7px;\\n  box-shadow: 5px 5px 40px 5px rgba(0,0,0,0.5);\\n\"])));var BorderLinearProgress=styled(LinearProgress)(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  margin: 20px;\\n  height: 10px !important;\\n  border-radius: 30px;\\n  border: 2px solid white;\\n  box-shadow: 5px 5px 40px 5px rgba(0,0,0,0.5);\\n  background-color:var(--main-text-color) !important;\\n  \\n  > div.MuiLinearProgress-barColorPrimary{\\n    background-color:var(--title-text-color) !important;\\n  }\\n\\n  > div.MuiLinearProgress-bar1Determinate {\\n    border-radius: 30px !important;\\n    background-image: linear-gradient(270deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.5));\\n  }\\n\"])));var ShimmerTitle=styled.h1(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  margin: 20px auto;\\n  text-transform: uppercase;\\n  animation: glow 2s ease-in-out infinite alternate;\\n  color: var(--main-text-color);\\n  @keyframes glow {\\n    from {\\n      text-shadow: 0 0 20px var(--main-text-color);\\n    }\\n    to {\\n      text-shadow: 0 0 30px var(--title-text-color), 0 0 10px var(--title-text-color);\\n    }\\n  }\\n\"])));var GoldTitle=styled.h2(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  color: var(--title-text-color);\\n\"])));var LogoAligner=styled.div(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\\n  img {\\n    max-height: 35px;\\n    margin-right: 10px;\\n  }\\n\"])));var Home=function Home(props){var _candyMachine$state,_candyMachine$state$e,_candyMachine$state2,_candyMachine$state2$;var _useState=useState(),_useState2=_slicedToArray(_useState,2),balance=_useState2[0],setBalance=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isMinting=_useState4[0],setIsMinting=_useState4[1];// true when user got to press MINT\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isActive=_useState6[0],setIsActive=_useState6[1];// true when countdown completes or whitelisted\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),solanaExplorerLink=_useState8[0],setSolanaExplorerLink=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),itemsAvailable=_useState10[0],setItemsAvailable=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),itemsRedeemed=_useState12[0],setItemsRedeemed=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),itemsRemaining=_useState14[0],setItemsRemaining=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isSoldOut=_useState16[0],setIsSoldOut=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),payWithSplToken=_useState18[0],setPayWithSplToken=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),price=_useState20[0],setPrice=_useState20[1];var _useState21=useState(\"SOL\"),_useState22=_slicedToArray(_useState21,2),priceLabel=_useState22[0],setPriceLabel=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),whitelistPrice=_useState24[0],setWhitelistPrice=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),whitelistEnabled=_useState26[0],setWhitelistEnabled=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isBurnToken=_useState28[0],setIsBurnToken=_useState28[1];var _useState29=useState(0),_useState30=_slicedToArray(_useState29,2),whitelistTokenBalance=_useState30[0],setWhitelistTokenBalance=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),isEnded=_useState32[0],setIsEnded=_useState32[1];var _useState33=useState(),_useState34=_slicedToArray(_useState33,2),endDate=_useState34[0],setEndDate=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),isPresale=_useState36[0],setIsPresale=_useState36[1];var _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),isWLOnly=_useState38[0],setIsWLOnly=_useState38[1];var _useState39=useState({open:false,message:\"\",severity:undefined}),_useState40=_slicedToArray(_useState39,2),alertState=_useState40[0],setAlertState=_useState40[1];var wallet=useAnchorWallet();var _useState41=useState(),_useState42=_slicedToArray(_useState41,2),candyMachine=_useState42[0],setCandyMachine=_useState42[1];var rpcUrl=props.rpcHost;var refreshCandyMachineState=function refreshCandyMachineState(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _cndy$state$endSettin,_cndy$state$endSettin2;var cndy,divider,_cndy$state$whitelist,_cndy$state$whitelist2,_balance,_tokenBalance$value,tokenBalance,limit;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(wallet){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return getCandyMachineState(wallet,props.candyMachineId,props.connection);case 4:cndy=_context.sent;setCandyMachine(cndy);setItemsAvailable(cndy.state.itemsAvailable);setItemsRemaining(cndy.state.itemsRemaining);setItemsRedeemed(cndy.state.itemsRedeemed);divider=1;if(decimals){divider=+('1'+new Array(decimals).join('0').slice()+'0');}// detect if using spl-token to mint\nif(cndy.state.tokenMint){setPayWithSplToken(true);// Customize your SPL-TOKEN Label HERE\n// TODO: get spl-token metadata name\nsetPriceLabel(splTokenName);setPrice(cndy.state.price.toNumber()/divider);setWhitelistPrice(cndy.state.price.toNumber()/divider);}else{setPrice(cndy.state.price.toNumber()/LAMPORTS_PER_SOL);setWhitelistPrice(cndy.state.price.toNumber()/LAMPORTS_PER_SOL);}// fetch whitelist token balance\nif(!cndy.state.whitelistMintSettings){_context.next=38;break;}setWhitelistEnabled(true);setIsBurnToken(cndy.state.whitelistMintSettings.mode.burnEveryTime);setIsPresale(cndy.state.whitelistMintSettings.presale);setIsWLOnly(!isPresale&&cndy.state.whitelistMintSettings.discountPrice===null);if(cndy.state.whitelistMintSettings.discountPrice!==null&&cndy.state.whitelistMintSettings.discountPrice!==cndy.state.price){if(cndy.state.tokenMint){setWhitelistPrice(((_cndy$state$whitelist=cndy.state.whitelistMintSettings.discountPrice)===null||_cndy$state$whitelist===void 0?void 0:_cndy$state$whitelist.toNumber())/divider);}else{setWhitelistPrice(((_cndy$state$whitelist2=cndy.state.whitelistMintSettings.discountPrice)===null||_cndy$state$whitelist2===void 0?void 0:_cndy$state$whitelist2.toNumber())/LAMPORTS_PER_SOL);}}_balance=0;_context.prev=19;_context.t0=props.connection;_context.next=23;return getAtaForMint(cndy.state.whitelistMintSettings.mint,wallet.publicKey);case 23:_context.t1=_context.sent[0];_context.next=26;return _context.t0.getTokenAccountBalance.call(_context.t0,_context.t1);case 26:tokenBalance=_context.sent;_balance=(tokenBalance===null||tokenBalance===void 0?void 0:(_tokenBalance$value=tokenBalance.value)===null||_tokenBalance$value===void 0?void 0:_tokenBalance$value.uiAmount)||0;_context.next=34;break;case 30:_context.prev=30;_context.t2=_context[\"catch\"](19);console.error(_context.t2);_balance=0;case 34:setWhitelistTokenBalance(_balance);setIsActive(isPresale&&!isEnded&&_balance>0);_context.next=39;break;case 38:setWhitelistEnabled(false);case 39:// end the mint when date is reached\nif(cndy===null||cndy===void 0?void 0:(_cndy$state$endSettin=cndy.state.endSettings)===null||_cndy$state$endSettin===void 0?void 0:_cndy$state$endSettin.endSettingType.date){setEndDate(toDate(cndy.state.endSettings.number));if(cndy.state.endSettings.number.toNumber()<new Date().getTime()/1000){setIsEnded(true);setIsActive(false);}}// end the mint when amount is reached\nif(cndy===null||cndy===void 0?void 0:(_cndy$state$endSettin2=cndy.state.endSettings)===null||_cndy$state$endSettin2===void 0?void 0:_cndy$state$endSettin2.endSettingType.amount){limit=Math.min(cndy.state.endSettings.number.toNumber(),cndy.state.itemsAvailable);setItemsAvailable(limit);if(cndy.state.itemsRedeemed<limit){setItemsRemaining(limit-cndy.state.itemsRedeemed);}else{setItemsRemaining(0);cndy.state.isSoldOut=true;setIsEnded(true);}}else{setItemsRemaining(cndy.state.itemsRemaining);}if(cndy.state.isSoldOut){setIsActive(false);}case 42:case\"end\":return _context.stop();}}},_callee,null,[[19,30]]);}))();};var renderGoLiveDateCounter=function renderGoLiveDateCounter(_ref2){var days=_ref2.days,hours=_ref2.hours,minutes=_ref2.minutes,seconds=_ref2.seconds;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Card,{elevation:1,children:[/*#__PURE__*/_jsx(\"h1\",{children:days}),\"Days\"]}),/*#__PURE__*/_jsxs(Card,{elevation:1,children:[/*#__PURE__*/_jsx(\"h1\",{children:hours}),\"Hours\"]}),/*#__PURE__*/_jsxs(Card,{elevation:1,children:[/*#__PURE__*/_jsx(\"h1\",{children:minutes}),\"Mins\"]}),/*#__PURE__*/_jsxs(Card,{elevation:1,children:[/*#__PURE__*/_jsx(\"h1\",{children:seconds}),\"Secs\"]})]});};var renderEndDateCounter=function renderEndDateCounter(_ref3){var days=_ref3.days,hours=_ref3.hours,minutes=_ref3.minutes;var label=\"\";if(days>0){label+=days+\" days \";}if(hours>0){label+=hours+\" hours \";}label+=minutes+1+\" minutes left to MINT.\";return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{children:label})});};function displaySuccess(mintPublicKey){var remaining=itemsRemaining-1;setItemsRemaining(remaining);setIsSoldOut(remaining===0);if(isBurnToken&&whitelistTokenBalance&&whitelistTokenBalance>0){var _balance2=whitelistTokenBalance-1;setWhitelistTokenBalance(_balance2);setIsActive(isPresale&&!isEnded&&_balance2>0);}setItemsRedeemed(itemsRedeemed+1);var solFeesEstimation=0.012;// approx\nif(!payWithSplToken&&balance&&balance>0){setBalance(balance-(whitelistEnabled?whitelistPrice:price)-solFeesEstimation);}setSolanaExplorerLink(cluster===\"devnet\"||cluster===\"testnet\"?\"https://solscan.io/token/\"+mintPublicKey+\"?cluster=\"+cluster:\"https://solscan.io/token/\"+mintPublicKey);throwConfetti();};function throwConfetti(){confetti({particleCount:400,spread:70,origin:{y:0.6}});}var onMint=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _status,mint,mintTxId,status,message;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setIsMinting(true);if(!(wallet&&(candyMachine===null||candyMachine===void 0?void 0:candyMachine.program)&&wallet.publicKey)){_context2.next=13;break;}mint=anchor.web3.Keypair.generate();_context2.next=6;return mintOneToken(candyMachine,wallet.publicKey,mint);case 6:mintTxId=_context2.sent[0];status={err:true};if(!mintTxId){_context2.next=12;break;}_context2.next=11;return awaitTransactionSignatureConfirmation(mintTxId,props.txTimeout,props.connection,'singleGossip',true);case 11:status=_context2.sent;case 12:if(!((_status=status)===null||_status===void 0?void 0:_status.err)){setAlertState({open:true,message:'Congratulations! Mint succeeded!',severity:'success'});// update front-end amounts\ndisplaySuccess(mint.publicKey);}else{setAlertState({open:true,message:'Mint failed! Please try again!',severity:'error'});}case 13:_context2.next=20;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](0);// TODO: blech:\nmessage=_context2.t0.msg||'Minting failed! Please try again!';if(!_context2.t0.msg){if(!_context2.t0.message){message='Transaction Timeout! Please try again.';}else if(_context2.t0.message.indexOf('0x138')){}else if(_context2.t0.message.indexOf('0x137')){message=\"SOLD OUT!\";}else if(_context2.t0.message.indexOf('0x135')){message=\"Insufficient funds to mint. Please fund your wallet.\";}}else{if(_context2.t0.code===311){message=\"SOLD OUT!\";}else if(_context2.t0.code===312){message=\"Minting period hasn't started yet.\";}}setAlertState({open:true,message:message,severity:\"error\"});case 20:_context2.prev=20;setIsMinting(false);return _context2.finish(20);case 23:case\"end\":return _context2.stop();}}},_callee2,null,[[0,15,20,23]]);}));return function onMint(){return _ref4.apply(this,arguments);};}();useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _balance3;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!wallet){_context3.next=5;break;}_context3.next=3;return props.connection.getBalance(wallet.publicKey);case 3:_balance3=_context3.sent;setBalance(_balance3/LAMPORTS_PER_SOL);case 5:case\"end\":return _context3.stop();}}},_callee3);}))();},[wallet,props.connection]);useEffect(refreshCandyMachineState,[wallet,props.candyMachineId,props.connection,isEnded,isPresale]);return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsxs(WalletContainer,{children:[/*#__PURE__*/_jsx(Logo,{children:/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3000/\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:\"logo sg.png\"})})}),/*#__PURE__*/_jsxs(Menu,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://discord.gg/zd2jkYjb \",target:\"_blank\",rel:\"noopener noreferrer\",children:\" Discord\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\" https://twitter.com/squareguysNFT?s=20&t=tpKG6RNJWqj21a75uAzUkw \",target:\"_blank\",rel:\"noopener noreferrer\",children:\" Twitter\"})})]}),/*#__PURE__*/_jsx(Wallet,{children:wallet?/*#__PURE__*/_jsxs(WalletAmount,{children:[(balance||0).toLocaleString(),\" SOL\",/*#__PURE__*/_jsx(ConnectButton,{})]}):/*#__PURE__*/_jsx(ConnectButton,{children:\"Connect Wallet\"})})]}),/*#__PURE__*/_jsx(ShimmerTitle,{children:\"SQUARE GUYS!\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(MintContainer,{children:[/*#__PURE__*/_jsx(DesContainer,{children:/*#__PURE__*/_jsxs(NFT,{elevation:3,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"LEGENDARY GUYS\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Price,{label:isActive&&whitelistEnabled&&whitelistTokenBalance>0?whitelistPrice+\" \"+priceLabel:\"\".concat(price,\" \").concat(priceLabel)}),/*#__PURE__*/_jsx(Image,{src:\"sg gif.gif\",alt:\"NFT To Mint\"})]}),/*#__PURE__*/_jsx(\"br\",{}),wallet&&isActive&&whitelistEnabled&&whitelistTokenBalance>0&&isBurnToken&&/*#__PURE__*/_jsxs(\"h3\",{children:[\"You own \",whitelistTokenBalance,\" WL mint \",whitelistTokenBalance>1?\"tokens\":\"token\",\".\"]}),wallet&&isActive&&whitelistEnabled&&whitelistTokenBalance>0&&!isBurnToken&&/*#__PURE__*/_jsx(\"h3\",{children:\"You are whitelisted and allowed to mint.\"}),wallet&&isActive&&endDate&&Date.now()<endDate.getTime()&&/*#__PURE__*/_jsx(Countdown,{date:toDate(candyMachine===null||candyMachine===void 0?void 0:(_candyMachine$state=candyMachine.state)===null||_candyMachine$state===void 0?void 0:(_candyMachine$state$e=_candyMachine$state.endSettings)===null||_candyMachine$state$e===void 0?void 0:_candyMachine$state$e.number),onMount:function onMount(_ref6){var completed=_ref6.completed;return completed&&setIsEnded(true);},onComplete:function onComplete(){setIsEnded(true);},renderer:renderEndDateCounter}),wallet&&isActive&&/*#__PURE__*/_jsxs(\"h3\",{children:[\"TOTAL MINTED : \",itemsRedeemed,\" / \",itemsAvailable]}),wallet&&isActive&&/*#__PURE__*/_jsx(BorderLinearProgress,{variant:\"determinate\",value:100-itemsRemaining*100/itemsAvailable}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(MintButtonContainer,{children:!isActive&&!isEnded&&(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate)&&(!isWLOnly||whitelistTokenBalance>0)?/*#__PURE__*/_jsx(Countdown,{date:toDate(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate),onMount:function onMount(_ref7){var completed=_ref7.completed;return completed&&setIsActive(!isEnded);},onComplete:function onComplete(){setIsActive(!isEnded);},renderer:renderGoLiveDateCounter}):!wallet?/*#__PURE__*/_jsx(ConnectButton,{children:\"Connect Wallet\"}):!isWLOnly||whitelistTokenBalance>0?(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.gatekeeper)&&wallet.publicKey&&wallet.signTransaction?/*#__PURE__*/_jsx(GatewayProvider,{wallet:{publicKey:wallet.publicKey||new PublicKey(CANDY_MACHINE_PROGRAM),//@ts-ignore\nsignTransaction:wallet.signTransaction}// // Replace with following when added\n// gatekeeperNetwork={candyMachine.state.gatekeeper_network}\n,gatekeeperNetwork:candyMachine===null||candyMachine===void 0?void 0:(_candyMachine$state2=candyMachine.state)===null||_candyMachine$state2===void 0?void 0:(_candyMachine$state2$=_candyMachine$state2.gatekeeper)===null||_candyMachine$state2$===void 0?void 0:_candyMachine$state2$.gatekeeperNetwork// This is the ignite (captcha) network\n/// Don't need this for mainnet\n,clusterUrl:rpcUrl,options:{autoShowModal:false},children:/*#__PURE__*/_jsx(MintButton,{candyMachine:candyMachine,isMinting:isMinting,isActive:isActive,isEnded:isEnded,isSoldOut:isSoldOut,onMint:onMint})}):/*#__PURE__*/_jsx(MintButton,{candyMachine:candyMachine,isMinting:isMinting,isActive:isActive,isEnded:isEnded,isSoldOut:isSoldOut,onMint:onMint}):/*#__PURE__*/_jsx(\"h1\",{children:\"Mint is private.\"})}),/*#__PURE__*/_jsx(\"br\",{}),wallet&&isActive&&solanaExplorerLink&&/*#__PURE__*/_jsx(SolExplorerLink,{href:solanaExplorerLink,target:\"_blank\",children:\"View on Solscan\"})]})}),/*#__PURE__*/_jsx(DesContainer,{children:/*#__PURE__*/_jsxs(Des,{elevation:2,children:[/*#__PURE__*/_jsxs(LogoAligner,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"logo sg.png\",alt:\"\"}),/*#__PURE__*/_jsx(GoldTitle,{children:\"History of Square Guys\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Imagine a project where customers decide everything. This is a unique project!Our team was regular NFT buyers.We spent all day looking for the perfect project to buy, but never found it. Our team couldn't find an analogy to our project. We figured out what to do! We need to create a project that is 100% community driven (by voting in our discord) You can own our collection! By buying our NFT you are buying the right to vote! \"}),/*#__PURE__*/_jsx(\"p\",{children:\"Let's say the community is interested in something. The task of our team is to vote and fulfill the wishes of our holders. You decide everything! This way, the owners can decide what the future of the project will be! We are your employees, and you decide what to do. That's not all, the owners will have their own Collection! Choose everything! Also, the profits from your collection will go to your wallet!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Friendly and cohesive team always succeeds!!\"})]})})]})]}),/*#__PURE__*/_jsx(Snackbar,{open:alertState.open,autoHideDuration:6000,onClose:function onClose(){return setAlertState(_objectSpread(_objectSpread({},alertState),{},{open:false}));},children:/*#__PURE__*/_jsx(Alert,{onClose:function onClose(){return setAlertState(_objectSpread(_objectSpread({},alertState),{},{open:false}));},severity:alertState.severity,children:alertState.message})})]});};export default Home;","map":{"version":3,"sources":["/Users/a1/Downloads/Mainnet/front/src/Home.tsx"],"names":["useEffect","useState","styled","confetti","anchor","LAMPORTS_PER_SOL","PublicKey","useAnchorWallet","WalletMultiButton","GatewayProvider","Countdown","Snackbar","Paper","LinearProgress","Chip","Alert","toDate","getAtaForMint","MintButton","awaitTransactionSignatureConfirmation","getCandyMachineState","mintOneToken","CANDY_MACHINE_PROGRAM","cluster","process","env","REACT_APP_SOLANA_NETWORK","toString","decimals","REACT_APP_SPL_TOKEN_TO_MINT_DECIMALS","splTokenName","REACT_APP_SPL_TOKEN_TO_MINT_NAME","WalletContainer","div","WalletAmount","Wallet","ul","ConnectButton","NFT","Des","Card","MintButtonContainer","Logo","Menu","SolExplorerLink","a","MainContainer","MintContainer","DesContainer","Price","Image","img","BorderLinearProgress","ShimmerTitle","h1","GoldTitle","h2","LogoAligner","Home","props","balance","setBalance","isMinting","setIsMinting","isActive","setIsActive","solanaExplorerLink","setSolanaExplorerLink","itemsAvailable","setItemsAvailable","itemsRedeemed","setItemsRedeemed","itemsRemaining","setItemsRemaining","isSoldOut","setIsSoldOut","payWithSplToken","setPayWithSplToken","price","setPrice","priceLabel","setPriceLabel","whitelistPrice","setWhitelistPrice","whitelistEnabled","setWhitelistEnabled","isBurnToken","setIsBurnToken","whitelistTokenBalance","setWhitelistTokenBalance","isEnded","setIsEnded","endDate","setEndDate","isPresale","setIsPresale","isWLOnly","setIsWLOnly","open","message","severity","undefined","alertState","setAlertState","wallet","candyMachine","setCandyMachine","rpcUrl","rpcHost","refreshCandyMachineState","candyMachineId","connection","cndy","state","divider","Array","join","slice","tokenMint","toNumber","whitelistMintSettings","mode","burnEveryTime","presale","discountPrice","mint","publicKey","getTokenAccountBalance","tokenBalance","value","uiAmount","console","error","endSettings","endSettingType","date","number","Date","getTime","amount","limit","Math","min","renderGoLiveDateCounter","days","hours","minutes","seconds","renderEndDateCounter","label","displaySuccess","mintPublicKey","remaining","solFeesEstimation","throwConfetti","particleCount","spread","origin","y","onMint","program","web3","Keypair","generate","mintTxId","status","err","txTimeout","msg","indexOf","code","getBalance","toLocaleString","now","completed","goLiveDate","gatekeeper","signTransaction","gatekeeperNetwork","autoShowModal"],"mappings":"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","sourcesContent":["import {useEffect, useState} from \"react\";\nimport styled from \"styled-components\";\nimport confetti from \"canvas-confetti\";\nimport * as anchor from \"@project-serum/anchor\";\nimport {LAMPORTS_PER_SOL, PublicKey} from \"@solana/web3.js\";\nimport {useAnchorWallet} from \"@solana/wallet-adapter-react\";\nimport {WalletMultiButton} from \"@solana/wallet-adapter-react-ui\";\nimport {GatewayProvider} from '@civic/solana-gateway-react';\nimport Countdown from \"react-countdown\";\nimport {Snackbar, Paper, LinearProgress, Chip} from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {toDate, AlertState, getAtaForMint} from './utils';\nimport {MintButton} from './MintButton';\nimport {\n    CandyMachine,\n    awaitTransactionSignatureConfirmation,\n    getCandyMachineState,\n    mintOneToken,\n    CANDY_MACHINE_PROGRAM,\n} from \"./candy-machine\";\n\nconst cluster = process.env.REACT_APP_SOLANA_NETWORK!.toString();\nconst decimals = process.env.REACT_APP_SPL_TOKEN_TO_MINT_DECIMALS ? +process.env.REACT_APP_SPL_TOKEN_TO_MINT_DECIMALS!.toString() : 9;\nconst splTokenName = process.env.REACT_APP_SPL_TOKEN_TO_MINT_NAME ? process.env.REACT_APP_SPL_TOKEN_TO_MINT_NAME.toString() : \"TOKEN\";\n\nconst WalletContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst WalletAmount = styled.div`\n  color: black;\n  width: auto;\n  padding: 5px 5px 5px 16px;\n  min-width: 48px;\n  min-height: auto;\n  border-radius: 22px;\n  background-color: var(--main-text-color);\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\n  box-sizing: border-box;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  font-weight: 500;\n  line-height: 1.75;\n  text-transform: uppercase;\n  border: 0;\n  margin: 0;\n  display: inline-flex;\n  outline: 0;\n  position: relative;\n  align-items: center;\n  user-select: none;\n  vertical-align: middle;\n  justify-content: flex-start;\n  gap: 10px;\n`;\n\nconst Wallet = styled.ul`\n  flex: 0 0 auto;\n  margin: 0;\n  padding: 0;\n`;\n\nconst ConnectButton = styled(WalletMultiButton)`\n  border-radius: 18px !important;\n  padding: 6px 16px;\n  background-color: #4E44CE;\n  margin: 0 auto;\n`;\n\nconst NFT = styled(Paper)`\n  min-width: 500px;\n  padding: 5px 20px 20px 20px;\n  flex: 1 1 auto;\n  background-color: var(--card-background-color) !important;\n  box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22) !important;\n`;\n\nconst Des = styled(NFT)`\n  text-align: left;\n  padding-top: 0px;\n`;\n\n\nconst Card = styled(Paper)`\n  display: inline-block;\n  background-color: var(card-background-lighter-color) !important;\n  margin: 5px;\n  min-width: 40px;\n  padding: 24px;\n  h1{\n    margin:0px;\n  }\n`;\n\nconst MintButtonContainer = styled.div`\n  button.MuiButton-contained:not(.MuiButton-containedPrimary).Mui-disabled {\n    color: #464646;\n  }\n\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):hover,\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):focus {\n    -webkit-animation: pulse 1s;\n    animation: pulse 1s;\n    box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\n  }\n\n  @-webkit-keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n`;\n\nconst Logo = styled.div`\n  flex: 0 0 auto;\n\n  img {\n    height: 60px;\n  }\n`;\nconst Menu = styled.ul`\n  list-style: none;\n  display: inline-flex;\n  flex: 1 0 auto;\n\n  li {\n    margin: 0 12px;\n\n    a {\n      color: var(--main-text-color);\n      list-style-image: none;\n      list-style-position: outside;\n      list-style-type: none;\n      outline: none;\n      text-decoration: none;\n      text-size-adjust: 100%;\n      touch-action: manipulation;\n      transition: color 0.3s;\n      padding-bottom: 15px;\n\n      img {\n        max-height: 26px;\n      }\n    }\n\n    a:hover, a:active {\n      color: rgb(131, 146, 161);\n      border-bottom: 4px solid var(--title-text-color);\n    }\n\n  }\n`;\n\nconst SolExplorerLink = styled.a`\n  color: var(--title-text-color);\n  border-bottom: 1px solid var(--title-text-color);\n  font-weight: bold;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: none;\n  outline: none;\n  text-decoration: none;\n  text-size-adjust: 100%;\n\n  :hover {\n    border-bottom: 2px solid var(--title-text-color);\n  }\n`;\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-right: 4%;\n  margin-left: 4%;\n  text-align: center;\n  justify-content: center;\n`;\n\nconst MintContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex: 1 1 auto;\n  flex-wrap: wrap;\n  gap: 20px;\n`;\n\nconst DesContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  gap: 20px;\n`;\n\nconst Price = styled(Chip)`\n  position: absolute;\n  margin: 5px;\n  font-weight: bold;\n  font-size: 1.2em !important;\n  font-family: 'Patrick Hand', cursive !important;\n`;\n\nconst Image = styled.img`\n  height: 400px;\n  width: auto;\n  border-radius: 7px;\n  box-shadow: 5px 5px 40px 5px rgba(0,0,0,0.5);\n`;\n\nconst BorderLinearProgress = styled(LinearProgress)`\n  margin: 20px;\n  height: 10px !important;\n  border-radius: 30px;\n  border: 2px solid white;\n  box-shadow: 5px 5px 40px 5px rgba(0,0,0,0.5);\n  background-color:var(--main-text-color) !important;\n  \n  > div.MuiLinearProgress-barColorPrimary{\n    background-color:var(--title-text-color) !important;\n  }\n\n  > div.MuiLinearProgress-bar1Determinate {\n    border-radius: 30px !important;\n    background-image: linear-gradient(270deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.5));\n  }\n`;\n\nconst ShimmerTitle = styled.h1`\n  margin: 20px auto;\n  text-transform: uppercase;\n  animation: glow 2s ease-in-out infinite alternate;\n  color: var(--main-text-color);\n  @keyframes glow {\n    from {\n      text-shadow: 0 0 20px var(--main-text-color);\n    }\n    to {\n      text-shadow: 0 0 30px var(--title-text-color), 0 0 10px var(--title-text-color);\n    }\n  }\n`;\n\nconst GoldTitle = styled.h2`\n  color: var(--title-text-color);\n`;\n\nconst LogoAligner = styled.div`\n  display: flex;\n  align-items: center;\n\n  img {\n    max-height: 35px;\n    margin-right: 10px;\n  }\n`;\n\n\nexport interface HomeProps {\n    candyMachineId: anchor.web3.PublicKey;\n    connection: anchor.web3.Connection;\n    txTimeout: number;\n    rpcHost: string;\n}\n\nconst Home = (props: HomeProps) => {\n    const [balance, setBalance] = useState<number>();\n    const [isMinting, setIsMinting] = useState(false); // true when user got to press MINT\n    const [isActive, setIsActive] = useState(false); // true when countdown completes or whitelisted\n    const [solanaExplorerLink, setSolanaExplorerLink] = useState<string>(\"\");\n    const [itemsAvailable, setItemsAvailable] = useState(0);\n    const [itemsRedeemed, setItemsRedeemed] = useState(0);\n    const [itemsRemaining, setItemsRemaining] = useState(0);\n    const [isSoldOut, setIsSoldOut] = useState(false);\n    const [payWithSplToken, setPayWithSplToken] = useState(false);\n    const [price, setPrice] = useState(0);\n    const [priceLabel, setPriceLabel] = useState<string>(\"SOL\");\n    const [whitelistPrice, setWhitelistPrice] = useState(0);\n    const [whitelistEnabled, setWhitelistEnabled] = useState(false);\n    const [isBurnToken, setIsBurnToken] = useState(false);\n    const [whitelistTokenBalance, setWhitelistTokenBalance] = useState(0);\n    const [isEnded, setIsEnded] = useState(false);\n    const [endDate, setEndDate] = useState<Date>();\n    const [isPresale, setIsPresale] = useState(false);\n    const [isWLOnly, setIsWLOnly] = useState(false);\n\n    const [alertState, setAlertState] = useState<AlertState>({\n        open: false,\n        message: \"\",\n        severity: undefined,\n    });\n\n    const wallet = useAnchorWallet();\n    const [candyMachine, setCandyMachine] = useState<CandyMachine>();\n\n    const rpcUrl = props.rpcHost;\n\n    const refreshCandyMachineState = () => {\n        (async () => {\n            if (!wallet) return;\n\n            const cndy = await getCandyMachineState(\n                wallet as anchor.Wallet,\n                props.candyMachineId,\n                props.connection\n            );\n\n            setCandyMachine(cndy);\n            setItemsAvailable(cndy.state.itemsAvailable);\n            setItemsRemaining(cndy.state.itemsRemaining);\n            setItemsRedeemed(cndy.state.itemsRedeemed);\n\n            var divider = 1;\n            if (decimals) {\n                divider = +('1' + new Array(decimals).join('0').slice() + '0');\n            }\n\n            // detect if using spl-token to mint\n            if (cndy.state.tokenMint) {\n                setPayWithSplToken(true);\n                // Customize your SPL-TOKEN Label HERE\n                // TODO: get spl-token metadata name\n                setPriceLabel(splTokenName);\n                setPrice(cndy.state.price.toNumber() / divider);\n                setWhitelistPrice(cndy.state.price.toNumber() / divider);\n            }else {\n                setPrice(cndy.state.price.toNumber() / LAMPORTS_PER_SOL);\n                setWhitelistPrice(cndy.state.price.toNumber() / LAMPORTS_PER_SOL);\n            }\n\n\n            // fetch whitelist token balance\n            if (cndy.state.whitelistMintSettings) {\n                setWhitelistEnabled(true);\n                setIsBurnToken(cndy.state.whitelistMintSettings.mode.burnEveryTime);\n                setIsPresale(cndy.state.whitelistMintSettings.presale);\n                setIsWLOnly(!isPresale && cndy.state.whitelistMintSettings.discountPrice === null);\n\n                if (cndy.state.whitelistMintSettings.discountPrice !== null && cndy.state.whitelistMintSettings.discountPrice !== cndy.state.price) {\n                    if (cndy.state.tokenMint) {\n                        setWhitelistPrice(cndy.state.whitelistMintSettings.discountPrice?.toNumber() / divider);\n                    } else {\n                        setWhitelistPrice(cndy.state.whitelistMintSettings.discountPrice?.toNumber() / LAMPORTS_PER_SOL);\n                    }\n                }\n\n                let balance = 0;\n                try {\n                    const tokenBalance =\n                        await props.connection.getTokenAccountBalance(\n                            (\n                                await getAtaForMint(\n                                    cndy.state.whitelistMintSettings.mint,\n                                    wallet.publicKey,\n                                )\n                            )[0],\n                        );\n\n                    balance = tokenBalance?.value?.uiAmount || 0;\n                } catch (e) {\n                    console.error(e);\n                    balance = 0;\n                }\n                setWhitelistTokenBalance(balance);\n                setIsActive(isPresale && !isEnded && balance > 0);\n            } else {\n                setWhitelistEnabled(false);\n            }\n\n            // end the mint when date is reached\n            if (cndy?.state.endSettings?.endSettingType.date) {\n                setEndDate(toDate(cndy.state.endSettings.number));\n                if (\n                    cndy.state.endSettings.number.toNumber() <\n                    new Date().getTime() / 1000\n                ) {\n                    setIsEnded(true);\n                    setIsActive(false);\n                }\n            }\n            // end the mint when amount is reached\n            if (cndy?.state.endSettings?.endSettingType.amount) {\n                let limit = Math.min(\n                    cndy.state.endSettings.number.toNumber(),\n                    cndy.state.itemsAvailable,\n                );\n                setItemsAvailable(limit);\n                if (cndy.state.itemsRedeemed < limit) {\n                    setItemsRemaining(limit - cndy.state.itemsRedeemed);\n                } else {\n                    setItemsRemaining(0);\n                    cndy.state.isSoldOut = true;\n                    setIsEnded(true);\n                }\n            } else {\n                setItemsRemaining(cndy.state.itemsRemaining);\n            }\n\n            if (cndy.state.isSoldOut) {\n                setIsActive(false);\n            }\n        })();\n    };\n\n    const renderGoLiveDateCounter = ({days, hours, minutes, seconds}: any) => {\n        return (\n            <div><Card elevation={1}><h1>{days}</h1>Days</Card><Card elevation={1}><h1>{hours}</h1>\n                Hours</Card><Card elevation={1}><h1>{minutes}</h1>Mins</Card><Card elevation={1}>\n                <h1>{seconds}</h1>Secs</Card></div>\n        );\n    };\n\n    const renderEndDateCounter = ({days, hours, minutes}: any) => {\n        let label = \"\";\n        if (days > 0) {\n            label += days + \" days \"\n        }\n        if (hours > 0) {\n            label += hours + \" hours \"\n        }\n        label += (minutes+1) + \" minutes left to MINT.\"\n        return (\n            <div><h3>{label}</h3></div>\n        );\n    };\n\n    function displaySuccess(mintPublicKey: any): void {\n        let remaining = itemsRemaining - 1;\n        setItemsRemaining(remaining);\n        setIsSoldOut(remaining === 0);\n        if (isBurnToken && whitelistTokenBalance && whitelistTokenBalance > 0) {\n            let balance = whitelistTokenBalance - 1;\n            setWhitelistTokenBalance(balance);\n            setIsActive(isPresale && !isEnded && balance > 0);\n        }\n        setItemsRedeemed(itemsRedeemed + 1);\n        const solFeesEstimation = 0.012; // approx\n        if (!payWithSplToken && balance && balance > 0) {\n            setBalance(balance - (whitelistEnabled ? whitelistPrice : price) - solFeesEstimation);\n        }\n        setSolanaExplorerLink(cluster === \"devnet\" || cluster === \"testnet\"\n            ? (\"https://solscan.io/token/\" + mintPublicKey + \"?cluster=\" + cluster)\n            : (\"https://solscan.io/token/\" + mintPublicKey));\n        throwConfetti();\n    };\n\n    function throwConfetti(): void {\n        confetti({\n            particleCount: 400,\n            spread: 70,\n            origin: {y: 0.6},\n        });\n    }\n\n    const onMint = async () => {\n        try {\n            setIsMinting(true);\n            if (wallet && candyMachine?.program && wallet.publicKey) {\n                const mint = anchor.web3.Keypair.generate();\n                const mintTxId = (\n                    await mintOneToken(candyMachine, wallet.publicKey, mint)\n                )[0];\n\n                let status: any = {err: true};\n                if (mintTxId) {\n                    status = await awaitTransactionSignatureConfirmation(\n                        mintTxId,\n                        props.txTimeout,\n                        props.connection,\n                        'singleGossip',\n                        true,\n                    );\n                }\n\n                if (!status?.err) {\n                    setAlertState({\n                        open: true,\n                        message: 'Congratulations! Mint succeeded!',\n                        severity: 'success',\n                    });\n\n                    // update front-end amounts\n                    displaySuccess(mint.publicKey);\n                } else {\n                    setAlertState({\n                        open: true,\n                        message: 'Mint failed! Please try again!',\n                        severity: 'error',\n                    });\n                }\n            }\n        } catch (error: any) {\n            // TODO: blech:\n            let message = error.msg || 'Minting failed! Please try again!';\n            if (!error.msg) {\n                if (!error.message) {\n                    message = 'Transaction Timeout! Please try again.';\n                } else if (error.message.indexOf('0x138')) {\n                } else if (error.message.indexOf('0x137')) {\n                    message = `SOLD OUT!`;\n                } else if (error.message.indexOf('0x135')) {\n                    message = `Insufficient funds to mint. Please fund your wallet.`;\n                }\n            } else {\n                if (error.code === 311) {\n                    message = `SOLD OUT!`;\n                } else if (error.code === 312) {\n                    message = `Minting period hasn't started yet.`;\n                }\n            }\n\n            setAlertState({\n                open: true,\n                message,\n                severity: \"error\",\n            });\n        } finally {\n            setIsMinting(false);\n        }\n    };\n\n\n    useEffect(() => {\n        (async () => {\n            if (wallet) {\n                const balance = await props.connection.getBalance(wallet.publicKey);\n                setBalance(balance / LAMPORTS_PER_SOL);\n            }\n        })();\n    }, [wallet, props.connection]);\n\n    useEffect(refreshCandyMachineState, [\n        wallet,\n        props.candyMachineId,\n        props.connection,\n        isEnded,\n        isPresale\n    ]);\n\n    return (\n        <main>\n             <MainContainer>\n                <WalletContainer>\n                    <Logo><a href=\"http://localhost:3000/\" target=\"_blank\" rel=\"noopener noreferrer\"><img alt=\"\"\n                                                                                                          src=\"logo sg.png\"/></a></Logo>\n                    <Menu>\n                        <li><a href=\"https://discord.gg/zd2jkYjb \" target=\"_blank\" rel=\"noopener noreferrer\"> Discord</a>\n                        </li>\n                        <li><a href=\" https://twitter.com/squareguysNFT?s=20&t=tpKG6RNJWqj21a75uAzUkw \" target=\"_blank\" rel=\"noopener noreferrer\"> Twitter</a>\n                        </li>\n                        \n                    </Menu>\n                    <Wallet>\n                        {wallet ?\n                            <WalletAmount>{(balance || 0).toLocaleString()} SOL<ConnectButton/></WalletAmount> :\n                            <ConnectButton>Connect Wallet</ConnectButton>}\n                    </Wallet>\n                </WalletContainer>\n                <ShimmerTitle>SQUARE GUYS!</ShimmerTitle>\n                <br/>\n                <MintContainer>\n                    <DesContainer>\n                        <NFT elevation={3}>\n                            <h2>LEGENDARY GUYS</h2>\n                            <br/>\n                            <div><Price\n                                label={isActive && whitelistEnabled && (whitelistTokenBalance > 0) ? (whitelistPrice + \" \" + priceLabel) : (`${price} ${priceLabel}`)}/><Image\n                                src=\"sg gif.gif\"\n                                alt=\"NFT To Mint\"/></div>\n                            <br/>\n                            {wallet && isActive && whitelistEnabled && (whitelistTokenBalance > 0) && isBurnToken &&\n                              <h3>You own {whitelistTokenBalance} WL mint {whitelistTokenBalance > 1 ? \"tokens\" : \"token\" }.</h3>}\n                            {wallet && isActive && whitelistEnabled && (whitelistTokenBalance > 0) && !isBurnToken &&\n                              <h3>You are whitelisted and allowed to mint.</h3>}\n\n                            {wallet && isActive && endDate && Date.now() < endDate.getTime() &&\n                              <Countdown\n                                date={toDate(candyMachine?.state?.endSettings?.number)}\n                                onMount={({completed}) => completed && setIsEnded(true)}\n                                onComplete={() => {\n                                    setIsEnded(true);\n                                }}\n                                renderer={renderEndDateCounter}\n                              />}\n                            {wallet && isActive &&\n                              <h3>TOTAL MINTED : {itemsRedeemed} / {itemsAvailable}</h3>}\n                            {wallet && isActive && <BorderLinearProgress variant=\"determinate\"\n                                                                         value={100 - (itemsRemaining * 100 / itemsAvailable)}/>}\n                            <br/>\n                            <MintButtonContainer>\n                                {!isActive && !isEnded && candyMachine?.state.goLiveDate && (!isWLOnly || whitelistTokenBalance > 0) ? (\n                                    <Countdown\n                                        date={toDate(candyMachine?.state.goLiveDate)}\n                                        onMount={({completed}) => completed && setIsActive(!isEnded)}\n                                        onComplete={() => {\n                                            setIsActive(!isEnded);\n                                        }}\n                                        renderer={renderGoLiveDateCounter}\n                                    />) : (\n                                    !wallet ? (\n                                            <ConnectButton>Connect Wallet</ConnectButton>\n                                        ) : (!isWLOnly || whitelistTokenBalance > 0) ?\n                                        candyMachine?.state.gatekeeper &&\n                                        wallet.publicKey &&\n                                        wallet.signTransaction ? (\n                                            <GatewayProvider\n                                                wallet={{\n                                                    publicKey:\n                                                        wallet.publicKey ||\n                                                        new PublicKey(CANDY_MACHINE_PROGRAM),\n                                                    //@ts-ignore\n                                                    signTransaction: wallet.signTransaction,\n                                                }}\n                                                // // Replace with following when added\n                                                // gatekeeperNetwork={candyMachine.state.gatekeeper_network}\n                                                gatekeeperNetwork={\n                                                    candyMachine?.state?.gatekeeper?.gatekeeperNetwork\n                                                } // This is the ignite (captcha) network\n                                                /// Don't need this for mainnet\n                                                clusterUrl={rpcUrl}\n                                                options={{autoShowModal: false}}\n                                            >\n                                                <MintButton\n                                                    candyMachine={candyMachine}\n                                                    isMinting={isMinting}\n                                                    isActive={isActive}\n                                                    isEnded={isEnded}\n                                                    isSoldOut={isSoldOut}\n                                                    onMint={onMint}\n                                                />\n                                            </GatewayProvider>\n                                        ) : (\n                                            <MintButton\n                                                candyMachine={candyMachine}\n                                                isMinting={isMinting}\n                                                isActive={isActive}\n                                                isEnded={isEnded}\n                                                isSoldOut={isSoldOut}\n                                                onMint={onMint}\n                                            />\n                                        ) :\n                                        <h1>Mint is private.</h1>\n                                        )}\n                            </MintButtonContainer>\n                            <br/>\n                            {wallet && isActive && solanaExplorerLink &&\n                              <SolExplorerLink href={solanaExplorerLink} target=\"_blank\">View on Solscan</SolExplorerLink>}\n                        </NFT>\n                    </DesContainer>\n                    <DesContainer>\n                        <Des elevation={2}>\n                        <LogoAligner><img src=\"logo sg.png\" alt=\"\"></img><GoldTitle>History of Square Guys</GoldTitle></LogoAligner>\n\n                            <p>Imagine a project where customers decide everything.\nThis is a unique project!Our team was regular\nNFT buyers.We spent all day looking for the \nperfect project to buy, but never found it. Our team couldn't \nfind an analogy to our project. We figured out what to do!\nWe need to create a project that is 100% community driven \n(by voting in our discord) You can own our collection! By buying our NFT\nyou are buying the right to vote! </p>\n                            <p>Let's say the community \nis interested in something. The task of our team is to vote\nand fulfill the wishes of our holders. You decide everything! \nThis way, the owners can decide what the future of the project\nwill be! We are your employees, and you decide what to do.\nThat's not all, the owners will have their own Collection!\nChoose everything! Also, the profits from your collection will go to your wallet!</p>\n                            <p>Friendly and cohesive team always succeeds!!</p>\n                        \n                        </Des>\n                    </DesContainer>\n                </MintContainer>\n            </MainContainer>\n            <Snackbar\n                open={alertState.open}\n                autoHideDuration={6000}\n                onClose={() => setAlertState({...alertState, open: false})}\n            >\n                <Alert\n                    onClose={() => setAlertState({...alertState, open: false})}\n                    severity={alertState.severity}\n                >\n                    {alertState.message}\n                </Alert>\n            </Snackbar>\n        </main>\n    );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}